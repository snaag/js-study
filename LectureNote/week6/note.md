# ì£¼ì œ
TDD
## ë°œí‘œì

- ì´ì†Œìœ¤

## ì°¸ì—¬ì

- ê¹€ë¼í¬, ê¹€ì£¼ì™„, ì•ˆì†Œí˜„, ì´ìƒì•„

## ë‚´ìš©

### TDD ì •ì˜
> TDD(Test Driven Development)ë€ í…ŒìŠ¤íŠ¸ ì£¼ë„ì ì„ í”„ë¡œê·¸ë¨ì„ ê°œë°œí•˜ëŠ” ë°©ë²•! ì¦‰, í…ŒìŠ¤íŠ¸ ì½”ë“œë¥´ ë¨¼ì € ì‘ì„±í•˜ê³  ê·¸ í…ŒìŠ¤íŠ¸ ì½”ë“œ í†µê³¼í•˜ëŠ ì‹¤ì œ ì½”ë“œë¥¼ ë‚˜ì¤‘ì— ë§Œë“œëŠ” ê°œë°œë°©ë²•ì´ë‹¤. 

### TDDì˜ ëª©í‘œ
Clean code that works!!!! ì‘ë™í•˜ëŠ” ê¹¨ë—í•œ ì½”ë“œ!ğŸ”¥ğŸ”¥ğŸ”¥
### TDDì˜ íë¦„ 
1. ë¬´ì—‡ì„ í…ŒìŠ¤íŠ¸í•  ê²ƒì¸ê°€ ìƒê°í•œë‹¤.
2. ì‹¤íŒ¨í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤.
3. í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤.(ì‹¤ì œì½”ë“œ)
4. ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§í•œë‹¤.(í…ŒìŠ¤íŠ¸ ì½”ë“œ ë˜í•œ ë¦¬íŒ©í† ë§í•œë‹¤)
- ë¦¬íŒ©í† ë§ ì†ŒìŠ¤ ì½”ë“œì˜ ê¸°ëŠ¥ì„ ìœ ì§€í•œ ì±„ë¡œ ì†ŒìŠ¤ì½”ë“œì˜ ë””ìì¸ì„ ê°œì„ í•´ ë‚˜ê°€ëŠ” ë°©ë²•ì´ë‹¤.
5. êµ¬í—Œí•´ì•¼ í•  ê²ƒì´ ìˆì„ ë•Œê¹Œì§€ ìœ„ì˜ ì‘ì—…ì„ ë°˜ë³µí•œë‹¤.

### TDDë¡œ ê°œë°œí•´ë³´ì!
ë‘ë‚ ì§œ(YYYYMMDD)ì˜ ì¼ ìˆ˜ ì°¨ì´ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ TDDë¡œ ê°œë°œí•´ë³´ë©° ì™„ì„±í•´ë³´ì. 
``` 20070515 sub 20070501 = 14
20070501 sub 20070515 = 14 
20070301 sub 20070501 = 31 + 30
```
ê²°ê³¼ = ì ˆëŒ€ê°’(ì²« ë²ˆì§¸ ë‚ ì§œì˜ ì´ ì¼ìˆ˜ - ë‘ ë²ˆì§¸ ë‚ ì§œì˜ ì´ ì¼ìˆ˜)<br>
ë‚ ì§œì˜ 0ë…„ë¶€í„° ê·¸ ë‚ ì§œì˜ ì§€ë‚˜ì˜¨ ì´ ì¼ìˆ˜ë¥¼ êµ¬í•œë‹¤ë©´ ë¬¸ì œê°€ ì‰½ê²Œ í•´ê²°ë  ë“¯ í•˜ë‹¤! ğŸ¤”<br>
í•˜ì§€ë§Œ ë³´ê¸°ì—ëŠ” ì‰¬ì›Œë³´ì´ì§€ë§Œ ê±¸ë¦¼ëŒì€? ìœ¤ë‹¬ì²˜ë¦¬! (2ì›”ì˜ 28ì¼ vs 2ì›”ì˜ 29ì¼)

ì¦‰, 20070515ë¼ëŠ” ë‚ ì§œì˜ ì´ ì¼ìˆ˜ë¥¼ êµ¬í•˜ê³  ì‹¶ë‹¤ë©´ 
```
2007ë…„ 5ì›” 15ì¼ì˜ ì´ ì¼ìˆ˜ =
0ë…„ë¶€í„° 2006ë…„ê¹Œì§€ì˜ ì´ ì¼ìˆ˜ +
2007ë…„ 1ì›”ë¶€í„° 4ì›”ê¹Œì§€ì˜ ì´ ì¼ ìˆ˜ + 
15
```
### TODO ë¦¬ìŠ¤íŠ¸
TODOë¦¬ìŠ¤íŠ¸ë¥¼ ë¯¸ë¦¬ ì‘ì„±í•´ ë†“ì•„ í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ë©´ì„œ ìŠì§€ ì•Šê²Œ!
ìš°ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ì´ í…ŒìŠ¤íŠ¸í•´ì•¼ í•  ëª©ë¡ë“¤ì„ ê°€ì§€ê²Œ ë˜ì—ˆê³  í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•  ì¤€ë¹„ê°€ ë˜ì—ˆë‹¤! ëšœë‘”ğŸ¤“
* ë‘ ë‚ ì§œ(YYYYMMDD)ì˜ ì°¨ì´ ì¼ìë¥¼ êµ¬í•œë‹¤. 
* íŠ¹ì •ì¼ìì˜ ì´ ì¼ìˆ˜ë¥¼ êµ¬í•œë‹¤.
  * >ì „ë…„ë„ê¹Œì§€ì˜ ì´ ì¼ìˆ˜ë¥¼ êµ¬í•œë‹¤.
  * ì „ì›”ê¹Œì§€ì˜ ì´ ì¼ìˆ˜ë¥¼ êµ¬í•œë‹¤.
  * í•´ë‹¹ì¼ìê¹Œì§€ì˜ ì´ ì¼ìˆ˜ë¥¼ êµ¬í•œë‹¤.
(">"í‘œì‹œëŠ” ì•ìœ¼ë¡œ ì§„í–‰ í•˜ë ¤ê³  í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ëœ»í•œë‹¤.)

### ì²«ë²ˆì§¸ í…ŒìŠ¤íŠ¸ ì½”ë“œ 
```
public void testGetYearDay(){
    assertEquals(0, SubDate.getYearDay(1));
    assertEquals(365, SubDate.getYearDay(2));
}
```
* 0ë…„ì´ë€ ê²ƒì€ ì¡´ì¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— 1ë…„ê¹Œì§€ì˜ ì´ ì¼ ìˆ˜ëŠ” 0ì´ ë˜ì–´ì•¼ í•œë‹¤. (ìµœì´ˆ ì¼ìë¥¼ 1ë…„ 1ì›” 1ì¼ì´ë¼ê³  ë‚˜ë¦„ëŒ€ë¡œ ì„¤ì •í•œ ê²ƒì´ë‹¤.)
* 2ë…„ê¹Œì§€ì˜ ì´ ì¼ ìˆ˜ëŠ” 1ë…„ 1ì›” 1ì¼ë¶€í„° 2ë…„ 1ì›” 1ì¼ê¹Œì§€ì´ë¯€ë¡œ 365ì¼ì´ ë  ê²ƒì´ë‹¤.
* ìœ„ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ìˆœê°„ SubDateë¼ëŠ” í´ë˜ìŠ¤ëŠ” ì•„ì§ ê°€ìƒì˜ í´ë˜ìŠ¤! SubDateë¼ëŠ” í´ë˜ìŠ¤ëŠ” í…ŒìŠ¤íŠ¸ì½”ë“œì— ì˜í•´ì„œ ë§Œë“¤ì–´ì§„ ê°€ìƒì˜ í´ë˜ìŠ¤ì´ë‹¤.
ì¦‰, í…ŒìŠ¤íŠ¸ ì½”ë“œì— ì˜í•´ì„œ SubDateë¼ëŠ” í´ë˜ìŠ¤ê°€ ë””ìì¸ë˜ê³  ìˆëŠ” ê²ƒì´ë‹¤. ìœ„ì²˜ëŸ¼ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ì €ì¥í•˜ë©´ ì»´íŒŒì¼ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤.
ì»´íŒŒì¼ì´ ë˜ê¸° ìœ„í•œ ê°€ì¥ ë¹ ë¥¸ ë°©ë²•?! ğŸ‘‡ ì»´íŒŒì¼ ë˜ëŠ” ì‹¤ì œì½”ë“œ ë§Œë“¤ê¸°!
```
public class SubDate {
    public static int getYearDay(int year){
        return 1;
    }
}
```
ì»´íŒŒì¼ì€ ë˜ì§€ë§Œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‹¤í–‰ ì‹œ ì‹¤íŒ¨í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•œë‹¤ê³  ë‚™ë‹´í•  í•„ìš”ëŠ” ì—†ë‹¤.
í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤íŒ¨í•˜ê²Œ ë§Œë“œëŠ” ê²ƒì€ TDDì˜ ì¤‘ìš”í•œ ê³¼ì • ì¤‘ í•˜ë‚˜ì´ë‹¤.
TDDëŠ” "í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•  ê²½ìš°ì—ë§Œ ì‹¤ì œì½”ë“œë¥¼ ì‘ì„± í•œë‹¤"ëŠ” ê°„ë‹¨í•œ ë²•ì¹™ì„ ë”°ë¥¸ë‹¤.
#### ê°€ì¥ ë¹¨ë¦¬ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ë¼~~~

```
public class SubDate {
    public static int getYearDay(int year){
        if(year==1) return 0;
        else return 365;
    }
}
```
1ì´ë©´ 0ì„ ë¦¬í„´í•˜ê³  ì•„ë‹Œ ê²½ìš° 365ë¥¼ ë¦¬í„´í•˜ë‹¤ë‹ˆ, ì •ë§ í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ê¸°ì— ê¸‰ê¸‰í•œ í™©ë‹¹í•œ ë©”ì¨ë“œ ì•„ë‹Œê°€?
ê·¸ë ‡ë‹¤, í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ê¸° ìœ„í•œ ê¸‰ê¸‰í•œ ë°©ë²•ì„ ì°¾ëŠ” ê²ƒ! ê·¸ê²ƒ ë˜í•œ TDDì˜ ë‹¹ì—°í•œ ê³¼ì •ì´ë‹¤. ì¼„íŠ¸ë²¡(Kent Beck)ì€ í…ŒìŠ¤íŠ¸ë¥¼ ì¬ë¹ ë¥´ê²Œ í†µê³¼í•˜ê¸° ìœ„í•´ì„œëŠ” ì–´ë–¤ ì£„ì•…(?)ì„ ì €ì§ˆëŸ¬ë„ ìƒê´€ì—†ë‹¤ê³  ë§í•œë‹¤. ê·¸ ì´ìœ ëŠ” TDDì‹¸ì´í´ì— ì˜í•´ ê²°êµ­ì—ëŠ” ë‹¹ì—°í•œ ì½”ë“œ ë¡œ ë³€ê²½ë˜ê¸° ë•Œë¬¸ì´ë‹¤.

#### ìœ¤ë…„ì²´í¬?!
```
public void testGetYearDay(){
    //assertEquals(0, SubDate.getYearDay(1));
    //assertEquals(365, SubDate.getYearDay(2));
    assertEquals(365+365+365+366, SubDate.getYearDay(5));
}
```
ë§¨ ë§ˆì§€ë§‰ ì½”ë“œë¥¼ í†µê³¼í•˜ê¸° ìœ„í•´ì„œëŠ” 1ë…„ë¶€í„° 4ë…„ê¹Œì§€ ì¤‘ ìœ¤ë…„ì´ ìˆã„´ëŠì§€ ì¡°ì‚¬í•˜ëŠ” ë¡œì§ì´ í•„ìš”í•˜ë‹¤.
ë¨¼ì € ìœ¤ë…„ì¸ì§€ ì•„ë‹Œì§€ë¥¼ ê²€ì‚¬í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ì.
```
public void testLeapYear(){
    assertTrue(SubDate.isLearYear(0));
    assertFalse(SubDate.isLearYear(1));
    assertTrue(SubDate.isLearYear(4));
    //4ë¡œ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ëŠ” ë…„ë„ê°€ ìœ¤ë…„ì´ë¼ê³  ì•Œê³  ìˆì–´ì„œ ìœ„ì™€ ê°™ì€ í…ŒìŠ¤íŠ¸ ì‘ì„±
}
```
##### ì‹¤ì œì½”ë“œ
```
public static boolean isLeapYear(int year){
    if(year == 0) return true;
    if(year == 1) return false;
    if(year == 4) return true;
    return false;
}
```
ì‹¤ì œ ì½”ë“œ ë¦¬íŒ©í† ë§
```
public static boolean isLeapYear(int year){
    if(year % 4 == 0) return true;
    return false;
}
```
* ì„œë ¥ ê¸°ì› ì—°ìˆ˜ê°€ 4ë¡œ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ëŠ” í•´ëŠ” ìš°ì„  ìœ¤ë…„ìœ¼ë¡œ í•˜ê³ , 
* ê·¸ ì¤‘ì—ì„œ 100ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ëŠ” í•´ëŠ” í‰ë…„ìœ¼ë¡œ í•˜ë©°, 
* ë‹¤ë§Œ 400ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ëŠ” í•´ëŠ” ë‹¤ì‹œ ìœ¤ë…„ì´ë‹¤.
* â­ï¸ìš°ì„ ìˆœìœ„ : 400, 100, 4â­

ì•„ë˜ì˜ í…ŒìŠ¤íŠ¸ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. ì™œ? 
700ì€ 4ë¡œ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ì§€ë§Œ, 100ìœ¼ë¡œë„ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ê¸° ë•Œë¬¸ì— í‰ë…„ì´ë‹¤.
í•˜ì§€ë§Œ ì‹¤ì œì½”ë“œê°€ ë¦¬íŒ©í† ë§ ë˜ì§€ ì•Šì•„ì„œ ìœ¤ë…„ì´ë¼ê³  ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤. ìˆ˜ì •í•´ì•¼ë¼!
```
public void testLeapYear(){
    assertTrue(SubDate.isLearYear(0));
    assertFalse(SubDate.isLearYear(1));
    assertTrue(SubDate.isLearYear(4));
    assertTrue(SubDate.isLearYear(1200));
    assertFalse(SubDate.isLearYear(700)); // error! 
}
```
ì‹¤ì œì½”ë“œ 
```
public static boolean isLeapYear(int year){
    if(year % 4 == 0) return true;
    return false;
}
```
ìˆ˜ì •ì„ í•˜ê²Œ ë˜ë©´.. 
```
public static boolean isLeapYear(int year){
    if(year % 100 == 0) return false;
    if(year % 4 == 0) return true;
    return false;
}
```
 í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ 1200ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.
 4ì™€ 100ìœ¼ë¡œ ë‚˜ëˆ„ì–´ë–¨ì–´ì ¸ fasleê°’ì„ ë¦¬í„´í•œë‹¤. í•˜ì§€ë§Œ 400ìœ¼ë¡œë„ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ê¸° ë•Œë¬¸ì— ì‹¤ì œì½”ë“œë¥¼ ìˆ˜ì •í•´ì£¼ì–´ì•¼ í•œë‹¤.
 ```
 assertTrue(SubDate.isLearYear(1200));
 ```
ìµœì¢… ìˆ˜ì •ì„ í•˜ê²Œ ë˜ë©´.. 
 ```
public static boolean isLeapYear(int year){
    if(year % 400 == 0) return true;
    if(year % 100 == 0) return false;
    if(year % 4 == 0) return true;
    return false;
}
```
#### ì¦‰, ì‹¤ì œì½”ë“œëŠ” TDDë¥¼ ê±°ì³ ì™„ì„±ëœë‹¤. 
```
public class SubDate {
    public static int getYearDay(int year){
        if(year==1) return 0;
        else return 365;
    }
}
```
ì—ì„œ 
```
public class SubDate {
    public static int getYearDay(int year){
        int result = 0;
        for(int i=0;i<year;i++){
            if(isLeapYear(i)) result += 366;
            else result +=365;
        }
        return result;
    }
}
```
 ```
public static boolean isLeapYear(int year){
    if(year % 400 == 0) return true;
    if(year % 100 == 0) return false;
    if(year % 4 == 0) return true;
    return false;
}
```
ì´ë ‡ê²Œ.

### TODOë¦¬ìŠ¤íŠ¸ ì²´í¬ì²´í¬
* ë‘ ë‚ ì§œ(YYYYMMDD)ì˜ ì°¨ì´ ì¼ìë¥¼ êµ¬í•œë‹¤. 
* íŠ¹ì •ì¼ìì˜ ì´ ì¼ìˆ˜ë¥¼ êµ¬í•œë‹¤.
  * ì „ë…„ë„ê¹Œì§€ì˜ ì´ ì¼ìˆ˜ë¥¼ êµ¬í•œë‹¤.
  * > ì „ì›”ê¹Œì§€ì˜ ì´ ì¼ìˆ˜ë¥¼ êµ¬í•œë‹¤.
  * í•´ë‹¹ì¼ìê¹Œì§€ì˜ ì´ ì¼ìˆ˜ë¥¼ êµ¬í•œë‹¤.
(">"í‘œì‹œëŠ” ì•ìœ¼ë¡œ ì§„í–‰ í•˜ë ¤ê³  í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ëœ»í•œë‹¤.)

### ì „ ë‹¬ê¹Œì§€ì˜ ì´ ì¼ ìˆ˜ êµ¬í•˜ê¸°!

#### í…ŒìŠ¤íŠ¸ì½”ë“œ
```
public void testGetMonthDay(){
    assertEquals(0, SubDate, getMonthDay(1));
    assertEquals(31, SubDate.getMonthDay(2));
}
```
#### ì‹¤ì œì½”ë“œ 
```
public static int getMonthDay(int month){
    if(month == 1) return 0;
    else return 31;
}
```
ê°‘ìê¸° ë“  ì˜ë¬¸! êµ¬í•˜ë ¤ëŠ” ì¼ìˆ˜ì— í¬í•¨ë˜ëŠ” 1ì›”ì´ 19ì¼ê¹Œì§€ ìˆëŠ”ì§€, 28ì¼ê¹Œì§€ ìˆëŠ”ì§€ ì–´ë–»ê²Œ ì•Œì§€? 
ê°„ë‹¨í•˜ê²Œ ìœ¤ë…„ì¸ ê²½ìš° true, ìœ¤ë…„ì´ ì•„ë‹Œ ê²½ìš°ëŠ” falseë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë³´ë‚´ì£¼ì.

#### í…ŒìŠ¤íŠ¸ì½”ë“œ 
```
public void testGetMonthDay(){
    assertEquals(0, SubDate, getMonthDay(1, true));
    assertEquals(31, SubDate.getMonthDay(2,flase));
}
```
#### ì‹¤ì œì½”ë“œ 
1. íŒŒë¼ë¯¸í„° ì¶”ê°€ 
```
public static int getMonthDay(int month, boolean isLeap){
    if(month == 1) return 0;
    else return 31;
}
```
2. ìœ¤ë‹¬ ì²˜ë¦¬
```
static final int[] = monthDays = {
    31,28,31,30,31,30,31,31,30,31,30,31};
public static int getMonthDay(int month, boolean isLeap){
    int result = 0;
    for(int i=1;i<month ;i++){
        result +=monthDays[i-1];
    }
    if(isLeap && month>2) result +=1;
    return result;
}
```
### TODOë¦¬ìŠ¤íŠ¸ ì²´í¬ì²´í¬
* ë‘ ë‚ ì§œ(YYYYMMDD)ì˜ ì°¨ì´ ì¼ìë¥¼ êµ¬í•œë‹¤. 
* íŠ¹ì •ì¼ìì˜ ì´ ì¼ìˆ˜ë¥¼ êµ¬í•œë‹¤.
  * ì „ë…„ë„ê¹Œì§€ì˜ ì´ ì¼ìˆ˜ë¥¼ êµ¬í•œë‹¤.
  * ì „ì›”ê¹Œì§€ì˜ ì´ ì¼ìˆ˜ë¥¼ êµ¬í•œë‹¤.
  * > í•´ë‹¹ì¼ìê¹Œì§€ì˜ ì´ ì¼ìˆ˜ë¥¼ êµ¬í•œë‹¤.
(">"í‘œì‹œëŠ” ì•ìœ¼ë¡œ ì§„í–‰ í•˜ë ¤ê³  í•˜ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ëœ»í•œë‹¤.)
### íŠ¹ì • ì¼ìì˜ ì´ ì¼ìˆ˜ êµ¬í•˜ê¸°!
#### í…ŒìŠ¤íŠ¸ ì½”ë“œ
```
public void testGetTotalDay(){
    assertEquals(1, SubDate.getYearDay("00010101"));
    assertEquals(366, SubDate.getYearDay("00020101"));
}
```
#### ì‹¤ì œì½”ë“œ
```
public static int getTotalDay(String date){
    int year = Integer.parseInt(date.substring(0,4));
    int month = Integer.parseInt(date.substring(4,6));
    int day = Integer.parseInt(date.substring(6,8));
    return getYearDay(year)
    + getMonthDay(month, isLeapYear(year))
    + day;
}
```
#### ìµœì¢… í…ŒìŠ¤íŠ¸ ì½”ë“œ
```
public void testSubDate({
    assertEquals(1, subDate.sub("20191231","20200101"));
    assertEquals(31+28+30+31+1, subDate.sub("20190701","20190515"));
})
```
#### ìµœì¢… ì‹¤ì œ ì½”ë“œ
```
public static int suv(String date1, String date2){
    return Math.abs(getTotalDay(date1) - getTotalDay(date2));
}
```



